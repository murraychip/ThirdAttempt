version: 1.0
env:
 variables:
  BUILD_FOLDER: app
  OUTPUT_FOLDER: dist
frontend:
 phases:
  preBuild:
   commands:
    - mkdir ./${BUILD_FOLDER}
    - cd ${BUILD_FOLDER}
    - mkdir ./${OUTPUT_FOLDER}
    - npm install
    - npm audit fix
  build:
   commands:
    - npm run build
  postBuild:
   commands:
    - pwd
    - ls ${OUTPUT_FOLDER}
 artifacts:
  baseDirectory: /app/dist
  files:
   - '/*'
cache:
 paths:
  - node_modules//*

